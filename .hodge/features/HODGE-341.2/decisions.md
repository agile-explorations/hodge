# Feature Decisions: HODGE-341.2

This file tracks decisions specific to HODGE-341.2.

## Decisions

<!-- Add your decisions below -->

### 2025-10-11 - Two-layer tool configuration architecture: Separate tool registry (Hodge's universal tool knowledge, ships with package) from project toolchain (user's customizable commands)

**Status**: Accepted

**Context**:
Feature: HODGE-341.2

**Decision**:
Two-layer tool configuration architecture: Separate tool registry (Hodge's universal tool knowledge, ships with package) from project toolchain (user's customizable commands). Tool registry (src/bundled-config/tool-registry.yaml) contains detection rules, installation commands per package manager, default commands, version commands, and quality check categories for all supported tools. Project toolchain (.hodge/toolchain.yaml) contains only the commands for tools detected in THIS project, generated by hodge init, user-editable. Benefits: (1) hodge init uses registry to detect tools, offer installation, generate default commands; (2) Review profiles check toolchain to understand project tech stack; (3) Scalable - add 100 tools to registry without code changes; (4) Package manager agnostic - registry knows npm, pip, poetry, gradle, maven; (5) User customization preserved - toolchain.yaml is user's config. Separation of concerns: registry = Hodge knowledge (immutable), toolchain = project config (mutable).

**Rationale**:
Recorded via `hodge decide` command at 1:26:26 PM

**Consequences**:
To be determined based on implementation.

---


### 2025-10-11 - Tool detector priority for eslint-plugin-sonarjs: Check both devDependencies AND

**Status**: Accepted

**Context**:
Feature: HODGE-341.2

**Decision**:
Tool detector priority for eslint-plugin-sonarjs: Check both devDependencies AND .eslintrc plugin configuration - most thorough detection, confirms tool is both installed AND actively configured, prevents false positives (installed but not used), follows established 'Config files > Dependencies > PATH' principle from HODGE-341. Two-tier check: (1) Look for 'sonarjs' in .eslintrc plugins array, (2) Verify in devDependencies for installation workflow.

**Rationale**:
Recorded via `hodge decide` command at 12:39:14 PM

**Consequences**:
To be determined based on implementation.

---


### 2025-10-11 - Semgrep bundled rules scope: Focused (2-3 high-value rules per framework) - ship ~8-10 total rules covering Prisma N+1 queries, React hook dependencies, GraphQL DataLoader patterns

**Status**: Accepted

**Context**:
Feature: HODGE-341.2

**Decision**:
Semgrep bundled rules scope: Focused (2-3 high-value rules per framework) - ship ~8-10 total rules covering Prisma N+1 queries, React hook dependencies, GraphQL DataLoader patterns. Establishes pattern for user extensions while keeping Phase 2 scope manageable. Aligns with progressive enhancement principle - ship useful foundation, iterate based on feedback.

**Rationale**:
Recorded via `hodge decide` command at 12:38:14 PM

**Consequences**:
To be determined based on implementation.

---


